[time_rules]
# Enable time-based rule engine
enabled = false

# Evaluation interval (seconds) - how often to check if rules should apply
check_interval_sec = 60

# Timezone for all time windows (default: system timezone)
default_timezone = Asia/Singapore

# ============================================================================
# Weight Adjustment Rules
# ============================================================================

[rule.weights.daytime]
type = weight_adjustment
name = Internal Priority (Daytime)
description = Boost internal department priorities during business hours
enabled = true

# Time window
start_time = 08:00
end_time = 18:00
days_of_week = Mon,Tue,Wed,Thu,Fri

# Weights for P0-P9 (internal=P0-P3, external=P5-P9)
# Higher weights = more share of capacity
weights = 256,128,64,32,16,8,4,2,1,1

[rule.weights.nighttime]
type = weight_adjustment
name = External Priority (Nighttime)
description = Flatten priorities to favor external customers at night
enabled = true

start_time = 18:00
end_time = 08:00  # Wraps to next day

# Flatten weights to give external customers more share
weights = 32,32,32,32,32,64,64,64,32,16

# ============================================================================
# Quota Adjustment Rules
# ============================================================================

[rule.quota.daytime]
type = quota_adjustment
name = Daytime Quotas
description = Reserve most capacity for internal departments
enabled = true

start_time = 08:00
end_time = 18:00
days_of_week = Mon,Tue,Wed,Thu,Fri

# Internal departments (generous quotas)
quota.dept-a-* = concurrent:50,rps:100,tokens_per_sec:2000
quota.dept-b-* = concurrent:40,rps:80,tokens_per_sec:1500
quota.dept-c-* = concurrent:30,rps:60,tokens_per_sec:1000

# External customers (limited quotas)
quota.premium-* = concurrent:10,rps:20,tokens_per_sec:300
quota.standard-* = concurrent:5,rps:10,tokens_per_sec:150
quota.free-* = concurrent:2,rps:5,tokens_per_sec:50

[rule.quota.nighttime]
type = quota_adjustment
name = Nighttime Quotas
description = Release capacity to external customers
enabled = true

start_time = 18:00
end_time = 08:00

# Internal departments (reduced quotas)
quota.dept-a-* = concurrent:15,rps:30,tokens_per_sec:500
quota.dept-b-* = concurrent:10,rps:20,tokens_per_sec:300
quota.dept-c-* = concurrent:10,rps:20,tokens_per_sec:300

# External customers (expanded quotas)
quota.premium-* = concurrent:40,rps:80,tokens_per_sec:1500
quota.standard-* = concurrent:25,rps:50,tokens_per_sec:800
quota.free-* = concurrent:10,rps:20,tokens_per_sec:200

# ============================================================================
# Global Capacity Rules
# ============================================================================

[rule.capacity.peak_hours]
type = capacity_adjustment
name = Peak Hours Capacity
description = Increase capacity during lunch hours
enabled = true

start_time = 12:00
end_time = 14:00
days_of_week = Mon,Tue,Wed,Thu,Fri

max_concurrent = 200
max_rps = 500
max_tokens_per_sec = 10000

[rule.capacity.off_peak]
type = capacity_adjustment
name = Off-Peak Capacity
description = Reduce capacity during early morning to save resources
enabled = true

start_time = 02:00
end_time = 06:00

max_concurrent = 50
max_rps = 100
max_tokens_per_sec = 2000

# ============================================================================
# Weekend Rules (Examples)
# ============================================================================

[rule.weights.weekend]
type = weight_adjustment
name = Weekend Equal Priority
description = All priorities equal on weekends
enabled = false

start_time = 00:00
end_time = 23:59
days_of_week = Sat,Sun

# Equal weights for all priorities
weights = 32,32,32,32,32,32,32,32,32,32
